unit testing;

interface

uses
   Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
   Dialogs, StdCtrls, StrUtils, Data.DB, pFIBQuery;

type
  TTestingForm = class(TForm)

  private
    { Private declarations }
    FButton: TButton;
  public
    { Public declarations }
    constructor CreateNew(AOwner: TComponent; Dummy: Integer = 0); override;
  end;


var
    TestingForm: TTestingForm;
    MemoTesting: TMemo;
    function MemoTestingAdd(InData: AnsiString): bool;
    procedure db(Sender: TObject);

implementation


uses
    main, settings, logging, module, thread_comport, thread_sql;


constructor TTestingForm.CreateNew(AOwner: TComponent; Dummy: Integer = 0);
begin
  inherited CreateNew(AOwner);
  MemoTesting := TMemo.Create(Self);
  MemoTesting.Ctl3D := False;
  MemoTesting.SetBounds(2, 2, 590, 300);
  MemoTesting.Parent := Self;
{
  FButton := TButton.Create(Self);
  FButton.SetBounds(10, 10, 60, 24);
  FButton.Caption := 'OK';
  FButton.Parent := Self;}
end;


procedure db(Sender: TObject);
begin
  TestingForm := TTestingForm.CreateNew(nil);
  try
    TestingForm.Height := 400;
    TestingForm.Width := 600;
    //запрет на изменение формы
    TestingForm.BorderStyle := bsToolWindow;
    TestingForm.BorderIcons := TestingForm.BorderIcons - [biMaximize];
    TestingForm.Caption := ' тестирование';
    TestingForm.Icon := Form1.Icon;
    TestingForm.ShowModal;
  finally
    TestingForm.Free;
    TESTING := false;
    form1.cb_debug.Checked := TESTING;
  end;
end;


function MemoTestingAdd(InData: AnsiString): bool;
begin
  try
      MemoTesting.SelStart := 0;
      MemoTesting.SelLength := 0;
  except
    on E : Exception do
      SaveLog('error'+#9#9+E.ClassName+', с сообщением: '+E.Message);
  end;
end;




end.
